body.invisible {
  opacity: 0;
  visibility: hidden;
}

.label-colon::after {
  content: "\00A0:"; /* espace ins√©cable + deux-points */
}

/* ====== Variables globales ====== */
:root {
  --hex-width: 14.5cqmin;                         /* largeur d‚Äôun hex (relative au plateau) */
  --hex-height: calc(var(--hex-width) * 1.1547); /* hauteur = largeur * ‚àö3/2*2 */
  --hex-offset-y: calc(var(--hex-height) * 1.255);

  /* Offsets bords */
  --bord-radius: calc(var(--hex-height) * 2.085);
  --bord-offset-x: -22.5cqmin;
  --bord-offset-y: -6.3cqmin;
  --bord-local-x: -6.07cqmin;
  --bord-local-y: 0cqmin;
}

/* ====== Base page ====== */
body {
  font-family: sans-serif;
  text-align: center;
  margin: 0;
  padding: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;

  background-image: url('image/fondDEcran.png');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  background-attachment: fixed;
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

h1 { font-size: 4vmin; font-weight: bold; color: #ffffff; }
h2 { font-size: 3vmin; color: #ffffff; }
label { font-size: 2vmin; color: #ffffff; }

/* ====== Boutons ====== */
button {
  padding: 1.5vmin 3vmin;
  font-size: 2vmin;
  cursor: pointer;
  border: none;
  background-color: #007bff;
  color: white;
  border-radius: 1vmin;
  transition: all 0.3s ease;
}

button:hover {
  background-color: #0056b3;
}

/* √âtat d√©sactiv√© pendant la g√©n√©ration */
button:disabled {
  background-color: #888 !important;
  cursor: not-allowed;
  opacity: 0.7;
}

/* Effet visuel pendant la g√©n√©ration */
button.loading {
  background-color: #555 !important;
  color: #eee;
  cursor: wait;
  position: relative;
}

/* ====== Classe utilitaire cach√©e ====== */
.hidden {
  display: none !important;
}


/* === Uniformisation des coches (m√™me style que les pions) === */

/* Cache les cases natives */
/* === Style harmonis√© pour toutes les cases cochables === */
input[type="checkbox"],
input[type="radio"] {
  appearance: none;
  position: relative;
  width: 2.2vmin;
  height: 2.2vmin;
  border: 2px solid rgba(255, 255, 255, 0.9);
  border-radius: 0.4vmin;
  background: rgba(0, 0, 0, 0.15);
  cursor: pointer;
  transition: all 0.25s ease;
  flex-shrink: 0;
  /* üîπ Ombre subtile sur les bords */
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.5), inset 0 0 2px rgba(255, 255, 255, 0.25);
}

/* üí° Effet au survol */
input[type="checkbox"]:hover,
input[type="radio"]:hover {
  border-color: #00ff55;
  box-shadow: 0 0 8px rgba(0, 255, 85, 0.6), inset 0 0 3px rgba(255, 255, 255, 0.3);
}

/* ‚úÖ √âtat coch√© */
input[type="checkbox"]:checked,
input[type="radio"]:checked {
  border-color: #00ff55;
  background: rgba(0, 255, 85, 0.15);
  box-shadow: 0 0 10px rgba(0, 255, 85, 0.6), inset 0 0 3px rgba(255, 255, 255, 0.25);
}

/* ‚úî Coche stylis√©e avec ombre */
input[type="checkbox"]:checked::after,
input[type="radio"]:checked::after {
  content: "‚úî";
  position: absolute;
  bottom: -0.2vmin;
  left: 0.3vmin;
  font-size: 1.7vmin;
  color: #00ff55;
  text-shadow: 0 0 6px rgba(0, 0, 0, 0.9);
}

.checkboxes label {
  display: flex;
  align-items: center; /* ‚úÖ centrage plus homog√®ne cross-browser */
  gap: 0.6em;
  cursor: pointer;
}



/* Survol + label = l√©g√®re mise en avant */
.checkboxes label:hover {
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 0.4em;
}



/* ====== Layout principal ====== */
/* === Nouvelle mise en page principale === */
/* === Structure principale === */
.main-container {
  display: grid;
  grid-template-areas:
    "top"
    "bottom";
  grid-template-rows: auto 1fr;
  justify-items: center;
  align-items: start;
  width: 100%;
  height: 100vh;
  gap: 2vmin; /* petit espace entre les blocs */
}

/* Bloc sup√©rieur (titre + options + analyse) */
.top-block {
  display: flex;
  flex-direction: column;
  align-items: center;      /* ‚úÖ Centre horizontalement le titre et les options */
  justify-content: flex-start; /* Garde le titre en haut du bloc */
  text-align: center;
  width: 100%;
  height: 100%;
}


/* Bloc inf√©rieur (plateau + badge) */
.bottom-block {
  grid-area: bottom;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}

/* Badge sous le plateau */
.fan-badge {
  margin-top: 0px;
  text-align: center;
  font-size: 12px;
  color: black;
  opacity: 0.8;
  pointer-events: none;
}

/* ====== Options ====== */
/* ====== Nouvelle disposition des options ====== */
.options-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2vmin;
  padding: 2vmin 4vmin;
  box-sizing: border-box;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
  color: #fff;
}

/* === Titre === */
.titre {
  margin: 2vmin 0; /* espace doux en haut et bas */
  text-align: center;
}


.titre h1 {
  font-size: 3.4vmin;
  margin-bottom: 0.3em;
  text-shadow: 2px 2px 5px rgba(0,0,0,0.6);
}
.titre h2 {
  margin-top: 0.4em;
  font-weight: 600;
  color: #f5f5f5;
  text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);
}

/* === Zone des options principales === */
.zone-texte {
  gap: 0.8em 2.5em;
  justify-content: center;
  align-items: start;
}

/* === Style harmonis√© pour les niveaux d'√©quilibrage === */
.zone-niveaux {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2vmin;
  margin-top: 1vmin;
  flex-wrap: wrap;
  font-size: 2vmin;
}

.zone-niveaux label {
  display: flex;
  align-items: center;
  gap: 0.6vmin;
  cursor: pointer;
  color: #fff;
  text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
  transition: transform 0.2s ease, color 0.2s ease;
}

/* Zoom l√©ger au survol */
.zone-niveaux label:hover {
  transform: scale(1.05);
  color: #a8e6ff;
}

/* Coche stylis√©e */
.zone-niveaux input[type="radio"] {
  appearance: none;
  width: 2vmin;
  height: 2vmin;
  border: 2px solid rgba(255, 255, 255, 0.9);
  border-radius: 0.4vmin;
  background: transparent;
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

/* Survol */
.zone-niveaux input[type="radio"]:hover {
  border-color: #00ff55;
  box-shadow: 0 0 6px rgba(0, 255, 85, 0.6);
}

/* √âtat coch√© avec coche ‚úî ombr√©e */
.zone-niveaux input[type="radio"]:checked {
  border-color: #00ff55;
  background: rgba(0, 255, 85, 0.15);
}

.zone-niveaux input[type="radio"]:checked::after {
  content: "‚úî";
  position: absolute;
  bottom: -0.2vmin;
  left: 0.3vmin;
  font-size: 1.7vmin;
  color: #00ff55;
  text-shadow: 0 0 6px rgba(0, 0, 0, 0.8);
}

/* === S√©lection des couleurs : pions align√©s horizontalement === */
.zone-couleurs {
  display: flex !important;
  flex-direction: row !important;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  margin-top: 1.5vmin;
  gap: 6vmin; /* utile si le navigateur le respecte */
}

/* Chaque pion = zone cliquable transparente */
.zone-couleurs label {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 8vmin;
  height: 8vmin;
  border-radius: 0.8vmin;
  cursor: pointer;
  transition: transform 0.2s ease;
  margin: 0 0vmin; /* üîπ espacement horizontal manuel */
}

/* Effet au survol : l√©ger zoom */
.zone-couleurs label:hover {
  transform: scale(1.1);
}

/* Cache la case native */
.zone-couleurs input[type="checkbox"] {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

/* Image du pion */
.zone-couleurs img {
  width: 90%;
  height: auto;
  object-fit: contain;
  pointer-events: none;
  transition: filter 0.2s ease;
}

/* Coche verte discr√®te en bas √† gauche */
.zone-couleurs label::after {
  content: "‚úî";
  position: absolute;
  bottom: 0.2vmin;
  left: 0.5vmin;
  font-size: 2.2vmin;
  color: #00ff55;
  opacity: 0;
  transition: opacity 0.25s ease;
  text-shadow: 0 0 4px black;
}

/* ‚úÖ Affiche la coche si coch√© */
.zone-couleurs label:has(input[type="checkbox"]:checked)::after {
  opacity: 1;
}

/* === Bouton === */
.bouton {
  text-align: center;
  margin-top: 1vmin;
}

/* ====== Plateau ====== */
#plateau-container {
  container-type: size;

  flex-shrink: 0;
  position: relative;
  margin: auto;

  /* occupe toujours le max possible sans d√©former */
  width: min(98vw, 98vh / 0.866);
  height: calc(min(98vw, 98vh / 0.866) * 0.866);

  display: flex;
  justify-content: center;
  align-items: center;
}

/* Structure hexagones */
#carteCatan {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
}

.ligne {
  display: flex;
  gap: 0;
  margin-top: calc(var(--hex-offset-y) * -1 + var(--hex-height));
}
.ligne:first-child { margin-top: 0; }

/* ====== Hexagone ====== */
.hex {
  width: var(--hex-width);
  height: var(--hex-height);
  background-size: cover;
  background-position: center;
  clip-path: polygon(
    50% 0%,
    100% 25%,
    100% 75%,
    50% 100%,
    0% 75%,
    0% 25%
  );
  position: relative;
  z-index: 10;
}
.ligne .hex + .hex { margin-left: calc(var(--hex-width) * -0.005); }

/* Num√©ros */
.numero {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: 40%;
}

/* ====== Bords ====== */
.bord {
  position: absolute;
  top: calc(50% + var(--bord-offset-y));
  left: calc(50% + var(--bord-offset-x));
  transform-origin: center;
  z-index: 5;
}
.bord img {
  width: calc(var(--hex-width) * 3.1);
  height: auto;
}
.bord.b1 { transform: rotate(0deg)    translateY(calc(var(--bord-radius) * -1)) translate(var(--bord-local-x), var(--bord-local-y)); }
.bord.b2 { transform: rotate(60deg)   translateY(calc(var(--bord-radius) * -1)) translate(var(--bord-local-x), var(--bord-local-y)); }
.bord.b3 { transform: rotate(120deg)  translateY(calc(var(--bord-radius) * -1)) translate(var(--bord-local-x), var(--bord-local-y)); }
.bord.b4 { transform: rotate(180deg)  translateY(calc(var(--bord-radius) * -1)) translate(var(--bord-local-x), var(--bord-local-y)); }
.bord.b5 { transform: rotate(240deg)  translateY(calc(var(--bord-radius) * -1)) translate(var(--bord-local-x), var(--bord-local-y)); }
.bord.b6 { transform: rotate(300deg)  translateY(calc(var(--bord-radius) * -1)) translate(var(--bord-local-x), var(--bord-local-y)); }

/* ====== Hexagones de fond ====== */
.hex-fond {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  clip-path: polygon(
    25% 0%,
    75% 0%,
    100% 50%,
    75% 100%,
    25% 100%,
    0% 50%
  );
  z-index: 1;

   /* --- Ajout pour effet d‚Äôapparition --- */
  transition: opacity 0.4s ease;
}

/* Devient visible une fois la g√©n√©ration termin√©e */
.hex-fond.visible {
  opacity: 1;
}

.hex-mer {
  width: calc(var(--hex-width) * 6.55);
  height: calc(var(--hex-width) * 6.55 * 0.866);
  background-color: #5FA3E3;
}
.hex-route {
  width: calc(var(--hex-width) * 5.45);
  height: calc(var(--hex-width) * 5.45 * 0.866);
  background-color: #F5E781;
}

/* ====== Calque colonies ====== */
#colonies-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 50;
}

.pion {
  position: absolute;
  width: calc(var(--hex-width) * 0.25);
  height: calc(var(--hex-width) * 0.25);
  transform: translate(-50%, -50%);
}

/* Couleurs / images sp√©cifiques */
.col-rouge  { background: url("image/pion/Crouge.png") center/contain no-repeat; }
.col-bleu   { background: url("image/pion/Cbleu.png") center/contain no-repeat; }
.col-orange { background: url("image/pion/Corange.png") center/contain no-repeat; }
.col-beige  { background: url("image/pion/Cbeige.png") center/contain no-repeat; }



/* ====== Calque routes ====== */
#routes-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 45;
}

/* ====== Routes d√©coratives ====== */
#routes-layer .route {
  position: absolute;
  width: calc(var(--hex-width) * 0.35);
  height: calc(var(--hex-width) * 0.09);
  transform: translate(-50%, -50%);
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
  pointer-events: none;
  z-index: 46;
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.3));
}

/* ====== Images de routes par couleur ====== */
#routes-layer .rou-rouge  { background-image: url("image/pion/Rrouge.png"); }
#routes-layer .rou-bleu   { background-image: url("image/pion/Rbleu.png"); }
#routes-layer .rou-orange { background-image: url("image/pion/Rorange.png"); }
#routes-layer .rou-beige  { background-image: url("image/pion/Rbeige.png"); }


/* Exemple positions pour l‚Äôhex central */
/* L1 ‚Äì Y=17% (3 points) */
.pos1 { top: 16.7%; left: 37.55%; }
.pos2 { top: 16.7%; left: 49.95%; }
.pos3 { top: 16.7%; left: 62.4%; }

/* L2 ‚Äì Y=20.5% (4 points) */
.pos4 { top: 20.7%; left: 31.4%; }
.pos5 { top: 20.7%; left: 43.8%; }
.pos6 { top: 20.7%; left: 56.2%; }
.pos7 { top: 20.7%; left: 68.6%; }

/* L3 ‚Äì Y=29.5% (4 points, identique L2) */
.pos8  { top: 29.2%; left: 31.4%; }
.pos9  { top: 29.2%; left: 43.8%; }
.pos10 { top: 29.2%; left: 56.2%; }
.pos11 { top: 29.2%; left: 68.6%; }

/* L4 ‚Äì Y=33% (5 points) */
.pos12 { top: 33.2%; left: 25.2%; }
.pos13 { top: 33.2%; left: 37.6%; }
.pos14 { top: 33.2%; left: 50%; }
.pos15 { top: 33.2%; left: 62.4%; }
.pos16 { top: 33.2%; left: 74.8%; }

/* L5 ‚Äì Y=42% (5 points, identique L4) */
.pos17 { top: 41.7%; left: 25.2%; }
.pos18 { top: 41.7%; left: 37.6%; }
.pos19 { top: 41.7%; left: 50%; }
.pos20 { top: 41.7%; left: 62.4%; }
.pos21 { top: 41.7%; left: 74.8%; }

/* L6 ‚Äì Y=45.5% (6 points) */
.pos22 { top: 45.7%; left: 19%; }
.pos23 { top: 45.7%; left: 31.4%; }
.pos24 { top: 45.7%; left: 43.8%; }
.pos25 { top: 45.7%; left: 56.2%; }
.pos26 { top: 45.7%; left: 68.6%; }
.pos27 { top: 45.7%; left: 81%; }

/* L7 ‚Äì Y=54.5% (6 points, identique L6) */
.pos28 { top: 54.2%; left: 19%; }
.pos29 { top: 54.2%; left: 31.4%; }
.pos30 { top: 54.2%; left: 43.8%; }
.pos31 { top: 54.2%; left: 56.2%; }
.pos32 { top: 54.2%; left: 68.6%; }
.pos33 { top: 54.2%; left: 81%; }

/* L8 ‚Äì Y=58% (5 points, identique L5/L4) */
.pos34 { top: 58.2%; left: 25.2%; }
.pos35 { top: 58.2%; left: 37.6%; }
.pos36 { top: 58.2%; left: 50%; }
.pos37 { top: 58.2%; left: 62.4%; }
.pos38 { top: 58.2%; left: 74.8%; }

/* L9 ‚Äì Y=67% (5 points, identique L8/L5/L4) */
.pos39 { top: 66.7%; left: 25.2%; }
.pos40 { top: 66.7%; left: 37.6%; }
.pos41 { top: 66.7%; left: 50%; }
.pos42 { top: 66.7%; left: 62.4%; }
.pos43 { top: 66.7%; left: 74.8%; }

/* L10 ‚Äì Y=70.5% (4 points, identique L2/L3) */
.pos44 { top: 70.7%; left: 31.4%; }
.pos45 { top: 70.7%; left: 43.8%; }
.pos46 { top: 70.7%; left: 56.2%; }
.pos47 { top: 70.7%; left: 68.6%; }

/* L11 ‚Äì Y=79.5% (4 points, identique L2/L3) */
.pos48 { top: 79.2%; left: 31.4%; }
.pos49 { top: 79.2%; left: 43.8%; }
.pos50 { top: 79.2%; left: 56.2%; }
.pos51 { top: 79.2%; left: 68.6%; }

/* L12 ‚Äì Y=83% (3 points, identique L1) */
.pos52 { top: 83.2%; left: 37.6%; }
.pos53 { top: 83.2%; left: 50%; }
.pos54 { top: 83.2%; left: 62.4%; }


/* ===== Bloc d‚Äôanalyse final ===== */
#analyse-bar {
  margin-top: 1em;
  background-color: rgba(0, 0, 0, 0.4);
  padding: 0.8em;
  border-radius: 1vmin;
  display: flex;
  flex-direction: column;
  gap: 0.4em;
  text-align: center;
}

.badge {
  display: inline-block;
  background: rgba(255, 255, 255, 0.15);
  padding: 0.4em 0.8em;
  border-radius: 0.6em;
  font-weight: bold;
  font-size: 1.8vmin;
}

.badge-ok { background-color: rgba(0,255,0,0.3); }
.badge-warn { background-color: rgba(255,165,0,0.4); }
.badge-danger { background-color: rgba(255,0,0,0.4); }

.scores-strip {
  display: flex;
  justify-content: space-around;
  gap: 1em;
  font-size: 1.8vmin;
}

.dot {
  display: inline-block;
  width: 1em;
  height: 1em;
  border-radius: 50%;
  margin-right: 0.4em;
}
.dot-rouge  { background-color: #e74c3c; }
.dot-bleu   { background-color: #3498db; }
.dot-orange { background-color: #e67e22; }
.dot-beige  { background-color: #d2b48c; }



/* ===== üåç S√©lecteur de langue en haut √† gauche ===== */
#lang-switch {
  position: absolute;
  top: 1vmin;
  left: 1vmin;
  display: flex;
  gap: 0.8vmin;
  z-index: 20;
}

#lang-switch button {
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  outline: none;
}

#lang-switch img {
  width: clamp(32px, 5vmin, 60px);   /* largeur mini 32px, max 60px */
  height: auto;                      /* conserve le ratio 3:2 du drapeau */
  aspect-ratio: 3 / 2;               /* s√©curit√© pour les navigateurs modernes */
  border-radius: 0.8vmin;            /* coins l√©g√®rement arrondis */
  border: 0.15vmin solid rgba(255, 255, 255, 0.4);
  box-shadow: 0 0 0.6vmin rgba(0, 0, 0, 0.3);
  transition: transform 0.2s ease, opacity 0.2s ease;
}



/* Pays actif mis en avant */
#lang-switch button.active img {
  transform: scale(1.15);
  opacity: 1;
}

/* Les autres un peu att√©nu√©s */
#lang-switch button:not(.active) img {
  opacity: 0.6;
}

/* Effet au survol */
#lang-switch button:hover img {
  transform: scale(1.1);
  opacity: 0.9;
}



/* === Mode paysage : d√©filement pour la zone des options === */
@media (min-aspect-ratio: 1872/1080) {
  .main-container {
    grid-template-areas: "top bottom";
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr;
    align-items: center;
    justify-items: stretch; /* ‚úÖ √âtire chaque bloc dans toute sa cellule */
    grid-template-columns: 1fr 1fr;
  }

  .top-block {
    align-items: center;       /* ‚úÖ Centre le titre horizontalement */
    justify-content: flex-start;
    width: 100%;               /* ‚úÖ S‚Äôassure qu‚Äôil prenne toute la colonne */
    text-align: center;
  }

  .titre {
    text-align: center;        /* ‚úÖ Centre le texte dans le bloc */
    margin: 2vmin 0;
    width: 100%;
  }

  .scrollable-content {
    max-height: calc(100vh - 17.5vmin);; /* zone de d√©filement limit√©e */
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.4) transparent;
  }

  .scrollable-content::-webkit-scrollbar {
    width: 0.8vmin;
  }
  .scrollable-content::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.4);
    border-radius: 1vmin;
  }
  .scrollable-content::-webkit-scrollbar-track {
    background: transparent;
  }
}


body {
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

body.invisible {
  opacity: 0;
  visibility: hidden;
}
